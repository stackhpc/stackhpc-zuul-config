---
zuul_operator_tenant_config:
  - authorization-rule:
      name: stackhpc-admin
      conditions:
        - zuul_uid: "alex@stackhpc.com"
        - zuul_uid: "bartosz@stackhpc.com"
        - zuul_uid: "jack@stackhpc.com"
        - zuul_uid: "michal@stackhpc.com"
        
  - tenant:
      name: stackhpc
      admin-rules:
        - stackhpc-admin
      exclude-unprotected-branches: true
      source:
        github:
          untrusted-projects:
            - stackhpc/ansible-collection-cephadm
            - stackhpc/stackhpc-kayobe-config
        opendev:
          untrusted-projects:
            - opendev/base-jobs:
                shadow: stackhpc-zuul-config
                include:
                  - job
            - zuul/zuul-jobs:
                shadow: stackhpc-zuul-config
                include:
                  - job
            - include:
                - job
              projects:
                - openstack/openstack-zuul-jobs
                - openstack/project-config
                - openstack/kayobe:
                    include-branches: &upstream_branches
                      - master
                      - stable/2025.1
                      - stable/2024.1
                - openstack/kayobe-config:
                    include-branches: *upstream_branches
                - openstack/kayobe-config-dev:
                    include-branches: *upstream_branches
                - openstack/kolla:
                    include-branches: *upstream_branches
                - openstack/kolla-ansible:
                    include-branches: *upstream_branches
            - include: []
              projects:
                - openstack/ansible-collection-kolla
                - openstack/requirements
                - openstack/tenks
                - zuul/nodepool
        stackhpc:
          config-projects:
            - stackhpc-zuul-config
